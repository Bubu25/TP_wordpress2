Skip to content
Search or jump to…

Pulls
Issues
Marketplace
Explore
 
@Bubu25 
gferrari89
/
TP_Wordpress2
1
00
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
TP_Wordpress2/roles/wp.nginx/templates/default.j2
@gferrari89
gferrari89 role nginx
Latest commit c34428e 8 minutes ago
 History
 1 contributor
51 lines (42 sloc)  1.32 KB
  
upstream php {
    server unix:/run/php/php8.0-fpm.sock;
}
server {
        server_name wordpress;
        root /var/www/wordpress;

        index index.php;

        location = /favicon.ico {
            log_not_found off;
            access_log off;
        }

        location = /robots.txt {
            allow all;
            log_not_found off;
            access_log off;
        }

        location ~ /\. {
            deny all;
        }

        location ~* /(?:uploads|files)/.*\.php$ {
            deny all;
        }

        location / {
                try_files $uri $uri/ /index.php?$args;
        }

        rewrite /wp-admin$ $scheme://$host$uri/ permanent;

        location ~*^,+\.(ogg|ogv|svg|svgz|eot|otf|woff|mp4|ttf|rss|atom|jpg|jpeg|gif|png|ico|zip|tgz|gz|rar|bzz|doc|xls|exe|ppt|tar|mid|wav|bmp|rtf)$   {
             access_log off;
             log_not_found off;
             expires max;
        }

        location ~ [^/]\.php(/|$) {
                fastcgi_split_path_info ^(.+?\.php)(/.*)$;
                if (!-f $document_root$fastcgi_script_name) {
                    return 404;
                }
                include fastcgi_params;
                fastcgi_index index.php;
                fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;
                fastcgi_pass php;
        }
}
© 2021 GitHub, Inc.
Terms
Privacy
Security
Status
Docs
Contact GitHub
Pricing
API
Training
Blog
About
Loading complete